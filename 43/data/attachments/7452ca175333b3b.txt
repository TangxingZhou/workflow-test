DEBUG    pytest_dependency:pytest_dependency.py:87 check dependencies of test_backup_mo_data in module scope ...
DEBUG    pytest_dependency:pytest_dependency.py:92 ... BackupMOTestSuite::test_create_mo_backup_cluster succeeded
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"SecretList","apiVersion":"v1","metadata":{"resourceVersion":"96148768"},"items":[{"metadata":{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92","namespace":"backup-freetier-02","uid":"53c4f288-f449-49d9-b30f-ac14e64ccf43","resourceVersion":"95374154","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c","namespace":"backup-freetier-02","uid":"c7da59ec-80e1-45b8-b7e6-529b645009d9","resourceVersion":"95374156","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRlcm5hbC5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0","namespace":"backup-freetier-02","uid":"657361cd-e3d1-4f1f-9bd2-eff2d500f566","resourceVersion":"95374155","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS12cGMuY24taGFuZ3pob3UuYWxpeXVuY3MuY29tIjp7IlVzZXJuYW1lIjoiY3JfdGVtcF91c2VyIiwiUGFzc3dvcmQiOiJleUpoZFhSb1ZHOXJaVzVKWkdWdWRHbG1hV1Z5SWpvaVpHSXpNekprTXpVMllUVXhOR016WmprMFpqWTVZVEZrTW1Fek1tSXdZMlFpTENKMGFXMWxJam9pTVRjeE1EVXhOak0zTXpBd01DSXNJblI1Y0dVaU9pSnpkSE1pTENKMWMyVnlTV1FpT2lJeE9EazFOams0TXpBek16WXlOVFV3SW4wOjU5NDRlM2MzMDA4N2U4MDE3OTlkZmY3YzJmNGViMTE0YWU0ZmE0NTgiLCJFbWFpbCI6ImNzQGFsaXl1bmNzLmNvbSIsIlByb3ZpZGVyIjpudWxsfX19"},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb","namespace":"backup-freetier-02","uid":"19dc2e3e-894c-45a0-a03b-c277b945d023","resourceVersion":"95374157","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLmNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbSI6eyJVc2VybmFtZSI6ImNyX3RlbXBfdXNlciIsIlBhc3N3b3JkIjoiZXlKaGRYUm9WRzlyWlc1SlpHVnVkR2xtYVdWeUlqb2laR0l6TXpKa016VTJZVFV4TkdNelpqazBaalk1WVRGa01tRXpNbUl3WTJRaUxDSjBhVzFsSWpvaU1UY3hNRFV4TmpNM016QXdNQ0lzSW5SNWNHVWlPaUp6ZEhNaUxDSjFjMlZ5U1dRaU9pSXhPRGsxTmprNE16QXpNell5TlRVd0luMDo1OTQ0ZTNjMzAwODdlODAxNzk5ZGZmN2MyZjRlYjExNGFlNGZhNDU4IiwiRW1haWwiOiJjc0BhbGl5dW5jcy5jb20iLCJQcm92aWRlciI6bnVsbH19fQ=="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17","namespace":"backup-freetier-02","uid":"c21ac0fc-df8f-4b3e-b61d-3d2bee2cfdbd","resourceVersion":"95374158","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLXZwYy5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"aliyun","namespace":"backup-freetier-02","uid":"32dc52b5-15df-407b-8b5e-03cda0dc5f95","resourceVersion":"81220185","creationTimestamp":"2024-02-28T10:33:56Z","managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:33:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0TDl4VGNqa0pBeE5uQXdWTnB5","AWS_SECRET_ACCESS_KEY":"RjA5d2pNb1lRN3FNNXRMRkE3RVJCa1o3NUJROXg3"},"type":"Opaque"},{"metadata":{"name":"aliyun-moc-backup-test","namespace":"backup-freetier-02","uid":"308307aa-7c99-493c-b4c7-6d0403022576","resourceVersion":"89513622","creationTimestamp":"2024-03-08T07:43:32Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"AWS_ACCESS_KEY_ID\":\"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x\",\"AWS_SECRET_ACCESS_KEY\":\"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"aliyun-moc-backup-test\",\"namespace\":\"backup-freetier-02\"},\"type\":\"Opaque\"}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-03-08T07:43:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x","AWS_SECRET_ACCESS_KEY":"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs"},"type":"Opaque"},{"metadata":{"name":"root","namespace":"backup-freetier-02","uid":"a76dfbe7-3523-4aa8-9ea6-9066b767bd7b","resourceVersion":"81222389","creationTimestamp":"2024-02-28T10:36:43Z","labels":{"matrixone.cloud/cluster":"backup-freetier-02"},"managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:36:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:password":{},"f:username":{}},"f:metadata":{"f:labels":{".":{},"f:matrixone.cloud/cluster":{}}},"f:type":{}}}]},"data":{"password":"NE1hbmhQR3NYLWVP","username":"YWRtaW4="},"type":"Opaque"}]}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:164 Secret aliyun-moc-backup-test already exists. Skip to create it.
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"SecretList","apiVersion":"v1","metadata":{"resourceVersion":"96148773"},"items":[{"metadata":{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92","namespace":"backup-freetier-02","uid":"53c4f288-f449-49d9-b30f-ac14e64ccf43","resourceVersion":"95374154","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c","namespace":"backup-freetier-02","uid":"c7da59ec-80e1-45b8-b7e6-529b645009d9","resourceVersion":"95374156","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRlcm5hbC5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0","namespace":"backup-freetier-02","uid":"657361cd-e3d1-4f1f-9bd2-eff2d500f566","resourceVersion":"95374155","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS12cGMuY24taGFuZ3pob3UuYWxpeXVuY3MuY29tIjp7IlVzZXJuYW1lIjoiY3JfdGVtcF91c2VyIiwiUGFzc3dvcmQiOiJleUpoZFhSb1ZHOXJaVzVKWkdWdWRHbG1hV1Z5SWpvaVpHSXpNekprTXpVMllUVXhOR016WmprMFpqWTVZVEZrTW1Fek1tSXdZMlFpTENKMGFXMWxJam9pTVRjeE1EVXhOak0zTXpBd01DSXNJblI1Y0dVaU9pSnpkSE1pTENKMWMyVnlTV1FpT2lJeE9EazFOams0TXpBek16WXlOVFV3SW4wOjU5NDRlM2MzMDA4N2U4MDE3OTlkZmY3YzJmNGViMTE0YWU0ZmE0NTgiLCJFbWFpbCI6ImNzQGFsaXl1bmNzLmNvbSIsIlByb3ZpZGVyIjpudWxsfX19"},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb","namespace":"backup-freetier-02","uid":"19dc2e3e-894c-45a0-a03b-c277b945d023","resourceVersion":"95374157","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLmNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbSI6eyJVc2VybmFtZSI6ImNyX3RlbXBfdXNlciIsIlBhc3N3b3JkIjoiZXlKaGRYUm9WRzlyWlc1SlpHVnVkR2xtYVdWeUlqb2laR0l6TXpKa016VTJZVFV4TkdNelpqazBaalk1WVRGa01tRXpNbUl3WTJRaUxDSjBhVzFsSWpvaU1UY3hNRFV4TmpNM016QXdNQ0lzSW5SNWNHVWlPaUp6ZEhNaUxDSjFjMlZ5U1dRaU9pSXhPRGsxTmprNE16QXpNell5TlRVd0luMDo1OTQ0ZTNjMzAwODdlODAxNzk5ZGZmN2MyZjRlYjExNGFlNGZhNDU4IiwiRW1haWwiOiJjc0BhbGl5dW5jcy5jb20iLCJQcm92aWRlciI6bnVsbH19fQ=="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17","namespace":"backup-freetier-02","uid":"c21ac0fc-df8f-4b3e-b61d-3d2bee2cfdbd","resourceVersion":"95374158","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLXZwYy5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"aliyun","namespace":"backup-freetier-02","uid":"32dc52b5-15df-407b-8b5e-03cda0dc5f95","resourceVersion":"81220185","creationTimestamp":"2024-02-28T10:33:56Z","managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:33:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0TDl4VGNqa0pBeE5uQXdWTnB5","AWS_SECRET_ACCESS_KEY":"RjA5d2pNb1lRN3FNNXRMRkE3RVJCa1o3NUJROXg3"},"type":"Opaque"},{"metadata":{"name":"aliyun-moc-backup-test","namespace":"backup-freetier-02","uid":"308307aa-7c99-493c-b4c7-6d0403022576","resourceVersion":"89513622","creationTimestamp":"2024-03-08T07:43:32Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"AWS_ACCESS_KEY_ID\":\"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x\",\"AWS_SECRET_ACCESS_KEY\":\"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"aliyun-moc-backup-test\",\"namespace\":\"backup-freetier-02\"},\"type\":\"Opaque\"}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-03-08T07:43:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x","AWS_SECRET_ACCESS_KEY":"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs"},"type":"Opaque"},{"metadata":{"name":"root","namespace":"backup-freetier-02","uid":"a76dfbe7-3523-4aa8-9ea6-9066b767bd7b","resourceVersion":"81222389","creationTimestamp":"2024-02-28T10:36:43Z","labels":{"matrixone.cloud/cluster":"backup-freetier-02"},"managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:36:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:password":{},"f:username":{}},"f:metadata":{"f:labels":{".":{},"f:matrixone.cloud/cluster":{}}},"f:type":{}}}]},"data":{"password":"NE1hbmhQR3NYLWVP","username":"YWRtaW4="},"type":"Opaque"}]}

DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"SecretList","apiVersion":"v1","metadata":{"resourceVersion":"96148780"},"items":[{"metadata":{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92","namespace":"backup-freetier-02","uid":"53c4f288-f449-49d9-b30f-ac14e64ccf43","resourceVersion":"95374154","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c","namespace":"backup-freetier-02","uid":"c7da59ec-80e1-45b8-b7e6-529b645009d9","resourceVersion":"95374156","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRlcm5hbC5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0","namespace":"backup-freetier-02","uid":"657361cd-e3d1-4f1f-9bd2-eff2d500f566","resourceVersion":"95374155","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS12cGMuY24taGFuZ3pob3UuYWxpeXVuY3MuY29tIjp7IlVzZXJuYW1lIjoiY3JfdGVtcF91c2VyIiwiUGFzc3dvcmQiOiJleUpoZFhSb1ZHOXJaVzVKWkdWdWRHbG1hV1Z5SWpvaVpHSXpNekprTXpVMllUVXhOR016WmprMFpqWTVZVEZrTW1Fek1tSXdZMlFpTENKMGFXMWxJam9pTVRjeE1EVXhOak0zTXpBd01DSXNJblI1Y0dVaU9pSnpkSE1pTENKMWMyVnlTV1FpT2lJeE9EazFOams0TXpBek16WXlOVFV3SW4wOjU5NDRlM2MzMDA4N2U4MDE3OTlkZmY3YzJmNGViMTE0YWU0ZmE0NTgiLCJFbWFpbCI6ImNzQGFsaXl1bmNzLmNvbSIsIlByb3ZpZGVyIjpudWxsfX19"},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb","namespace":"backup-freetier-02","uid":"19dc2e3e-894c-45a0-a03b-c277b945d023","resourceVersion":"95374157","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLmNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbSI6eyJVc2VybmFtZSI6ImNyX3RlbXBfdXNlciIsIlBhc3N3b3JkIjoiZXlKaGRYUm9WRzlyWlc1SlpHVnVkR2xtYVdWeUlqb2laR0l6TXpKa016VTJZVFV4TkdNelpqazBaalk1WVRGa01tRXpNbUl3WTJRaUxDSjBhVzFsSWpvaU1UY3hNRFV4TmpNM016QXdNQ0lzSW5SNWNHVWlPaUp6ZEhNaUxDSjFjMlZ5U1dRaU9pSXhPRGsxTmprNE16QXpNell5TlRVd0luMDo1OTQ0ZTNjMzAwODdlODAxNzk5ZGZmN2MyZjRlYjExNGFlNGZhNDU4IiwiRW1haWwiOiJjc0BhbGl5dW5jcy5jb20iLCJQcm92aWRlciI6bnVsbH19fQ=="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17","namespace":"backup-freetier-02","uid":"c21ac0fc-df8f-4b3e-b61d-3d2bee2cfdbd","resourceVersion":"95374158","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLXZwYy5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"aliyun","namespace":"backup-freetier-02","uid":"32dc52b5-15df-407b-8b5e-03cda0dc5f95","resourceVersion":"81220185","creationTimestamp":"2024-02-28T10:33:56Z","managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:33:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0TDl4VGNqa0pBeE5uQXdWTnB5","AWS_SECRET_ACCESS_KEY":"RjA5d2pNb1lRN3FNNXRMRkE3RVJCa1o3NUJROXg3"},"type":"Opaque"},{"metadata":{"name":"aliyun-moc-backup-test","namespace":"backup-freetier-02","uid":"308307aa-7c99-493c-b4c7-6d0403022576","resourceVersion":"89513622","creationTimestamp":"2024-03-08T07:43:32Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"AWS_ACCESS_KEY_ID\":\"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x\",\"AWS_SECRET_ACCESS_KEY\":\"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"aliyun-moc-backup-test\",\"namespace\":\"backup-freetier-02\"},\"type\":\"Opaque\"}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-03-08T07:43:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x","AWS_SECRET_ACCESS_KEY":"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs"},"type":"Opaque"},{"metadata":{"name":"root","namespace":"backup-freetier-02","uid":"a76dfbe7-3523-4aa8-9ea6-9066b767bd7b","resourceVersion":"81222389","creationTimestamp":"2024-02-28T10:36:43Z","labels":{"matrixone.cloud/cluster":"backup-freetier-02"},"managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:36:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:password":{},"f:username":{}},"f:metadata":{"f:labels":{".":{},"f:matrixone.cloud/cluster":{}}},"f:type":{}}}]},"data":{"password":"NE1hbmhQR3NYLWVP","username":"YWRtaW4="},"type":"Opaque"}]}

DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Secret","apiVersion":"v1","metadata":{"name":"aliyun-moc-backup-test","namespace":"backup-freetier-02","uid":"308307aa-7c99-493c-b4c7-6d0403022576","resourceVersion":"89513622","creationTimestamp":"2024-03-08T07:43:32Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"AWS_ACCESS_KEY_ID\":\"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x\",\"AWS_SECRET_ACCESS_KEY\":\"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"aliyun-moc-backup-test\",\"namespace\":\"backup-freetier-02\"},\"type\":\"Opaque\"}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-03-08T07:43:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x","AWS_SECRET_ACCESS_KEY":"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs"},"type":"Opaque"}

DEBUG    oss2.api:api.py:486 Init Bucket: moc-backup-test, endpoint: http://oss-cn-hangzhou.aliyuncs.com, isCname: False, connect_timeout: None, app_name: , enabled_crc: True, region: None, proxies: None
DEBUG    oss2.api:api.py:572 Start to List objects, bucket: moc-backup-test, prefix: backup-freetier-02-20240315021618, delimiter: , marker: , max-keys: 100
DEBUG    oss2.http:http.py:92 Init request, method: GET, url: http://moc-backup-test.oss-cn-hangzhou.aliyuncs.com/, params: {'prefix': 'backup-freetier-02-20240315021618', 'delimiter': '', 'marker': '', 'max-keys': '100', 'encoding-type': 'url'}, headers: {'Accept-Encoding': None, 'User-Agent': 'aliyun-sdk-python/2.18.4(Linux/6.5.0-1016-azure/x86_64;3.8.18)'}
DEBUG    oss2.auth:auth.py:130 Make signature: string to be signed = b'GET\n\n\nFri, 15 Mar 2024 02:16:22 GMT\n/moc-backup-test/'
DEBUG    oss2.http:http.py:45 Send request, method: GET, url: http://moc-backup-test.oss-cn-hangzhou.aliyuncs.com/, params: {'prefix': 'backup-freetier-02-20240315021618', 'delimiter': '', 'marker': '', 'max-keys': '100', 'encoding-type': 'url'}, headers: {'Accept-Encoding': None, 'User-Agent': 'aliyun-sdk-python/2.18.4(Linux/6.5.0-1016-azure/x86_64;3.8.18)', 'date': 'Fri, 15 Mar 2024 02:16:22 GMT', 'authorization': 'OSS LTAI5tLpNzZBFMduA9BYTtNq:9+U+9V7lDS5tVInlHCHxbxljksk='}, timeout: 60, proxies: None
DEBUG    oss2.http:http.py:117 Get response headers, req-id:65F3AF77FDF0783937EF9EB2, status: 200, headers: {'Server': 'AliyunOSS', 'Date': 'Fri, 15 Mar 2024 02:16:23 GMT', 'Content-Type': 'application/xml', 'Content-Length': '303', 'Connection': 'keep-alive', 'x-oss-request-id': '65F3AF77FDF0783937EF9EB2', 'x-oss-server-time': '161'}
DEBUG    oss2.api:api.py:582 List objects done, req_id: 65F3AF77FDF0783937EF9EB2, status_code: 200
DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:350 S3 storage 'moc-backup-test/backup-freetier-02-20240315021618' is empty.
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"apiVersion":"core.matrixone-cloud/v1alpha1","kind":"Cluster","metadata":{"annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"core.matrixone-cloud/v1alpha1\",\"kind\":\"Cluster\",\"metadata\":{\"annotations\":{},\"labels\":{\"matrixone.cloud/role\":\"internal-test\"},\"name\":\"backup-freetier-02\"},\"spec\":{\"accountID\":\"backup_freetier_02\",\"cnSets\":[{\"managed\":{\"componentBackend\":\"Pod\",\"config\":\"[cn.frontend]\\nsaveQueryResult = \\\"on\\\"\\nqueryResultTimeout = 72\\nlengthOfQueryPrinted = 10000\\ndisable-select-into = true\\n[cn.txn]\\nenable-leak-check = 1\\nmax-active-ages = \\\"20m\\\"\\n[observability]\\nmetricUpdateStorageUsageInterval = \\\"15m\\\"\\nenableStmtMerge = true\\nenableMetricToProm = true\\n\",\"sharedStorageCache\":{\"memoryCacheSize\":\"1Gi\"}},\"name\":\"default\",\"profile\":\"cn.standard\",\"replicas\":1}],\"endpoint\":{\"mode\":\"Shared\",\"whitelistIPRanges\":[\"0.0.0.0/0\"]},\"mainClusterRef\":\"freetier-02\",\"managed\":{\"imageRepository\":\"registry.cn-shanghai.aliyuncs.com/matrixorigin/matrixone\"},\"managementPolicy\":\"Manual\",\"state\":\"Active\",\"unitName\":\"qa-unit-cn-hangzhou\",\"unitSelector\":{\"matchLabels\":{\"matrixone.cloud/cloud\":\"aliyun\",\"matrixone.cloud/region\":\"cn-hangzhou\"}},\"version\":\"nightly-e94ba155\"}}\n","matrixone.cloud/main-hash":"c5831d5"},"creationTimestamp":"2024-02-28T10:33:54Z","finalizers":["matrixorigin.io/unit-agent"],"generation":8,"labels":{"matrixone.cloud/role":"internal-test"},"managedFields":[{"apiVersion":"core.matrixone-cloud/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:matrixone.cloud/role":{}}},"f:spec":{".":{},"f:accountID":{},"f:cnSets":{".":{},"k:{\"name\":\"default\"}":{".":{},"f:managed":{".":{},"f:componentBackend":{},"f:sharedStorageCache":{".":{},"f:memoryCacheSize":{}}},"f:name":{},"f:profile":{},"f:replicas":{}}},"f:endpoint":{".":{},"f:mode":{},"f:whitelistIPRanges":{}},"f:mainClusterRef":{},"f:managed":{".":{},"f:imageRepository":{}},"f:state":{},"f:unitName":{},"f:unitSelector":{}}},"manager":"OpenAPI-Generator","operation":"Update","time":"2024-02-28T10:33:54Z"},{"apiVersion":"core.matrixone-cloud/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{".":{},"f:adminURL":{},"f:aliyunStatus":{".":{},"f:privateLink":{".":{},"f:serviceID":{},"f:serviceName":{},"f:zones":{}}},"f:cnGroups":{},"f:conditions":{},"f:endpoint":{".":{},"f:address":{},"f:httpsPort":{},"f:phase":{},"f:port":{}},"f:externalIdentity":{".":{},"f:aliyun":{".":{},"f:accountId":{}}},"f:localEndpoint":{".":{},"f:hostname":{},"f:port":{},"f:secretRef":{".":{},"f:name":{},"f:namespace":{}}},"f:phase":{},"f:version":{}}},"manager":"Go-http-client","operation":"Update","subresource":"status","time":"2024-02-28T10:36:54Z"},{"apiVersion":"core.matrixone-cloud/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:spec":{"f:cnSets":{"k:{\"name\":\"default\"}":{"f:managed":{"f:config":{}}}},"f:managementPolicy":{},"f:version":{}}},"manager":"kubectl-client-side-apply","operation":"Update","time":"2024-03-07T07:55:22Z"},{"apiVersion":"core.matrixone-cloud/v1alpha1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:matrixone.cloud/main-hash":{}},"f:finalizers":{".":{},"v:\"matrixorigin.io/unit-agent\"":{}}},"f:spec":{"f:cnSets":{"k:{\"name\":\"default\"}":{"f:managed":{"f:nodeSelector":{".":{},"f:matrixone.cloud/cluster-pool":{},"f:matrixone.cloud/profile":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:storageClassName":{},"f:storageSize":{},"f:toleratedTaints":{}}}}},"f:state":{".":{},"f:initialized":{}}},"manager":"Go-http-client","operation":"Update","time":"2024-03-07T11:42:51Z"}],"name":"backup-freetier-02","resourceVersion":"54635849","uid":"bb70a337-328b-4563-a762-95760718fcae"},"spec":{"accountID":"backup_freetier_02","cnSets":[{"managed":{"componentBackend":"Pod","config":"[cn.frontend]\nsaveQueryResult = \"on\"\nqueryResultTimeout = 72\nlengthOfQueryPrinted = 10000\ndisable-select-into = true\n[cn.txn]\nenable-leak-check = 1\nmax-active-ages = \"20m\"\n[observability]\nmetricUpdateStorageUsageInterval = \"15m\"\nenableStmtMerge = true\nenableMetricToProm = true\n","nodeSelector":{"matrixone.cloud/cluster-pool":"freetier-02","matrixone.cloud/profile":"cn.standard"},"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"sharedStorageCache":{"memoryCacheSize":"1Gi"},"storageClassName":"alicloud-disk-essd-pl1","storageSize":"300Gi","toleratedTaints":["profile.matrixone.cloud/cn.standard","cluster-pool.matrixone.cloud/freetier-02"]},"name":"default","profile":"cn.standard","replicas":1}],"endpoint":{"mode":"Shared","whitelistIPRanges":["0.0.0.0/0"]},"mainClusterRef":"freetier-02","managed":{"imageRepository":"registry.cn-shanghai.aliyuncs.com/matrixorigin/matrixone"},"managementPolicy":"Manual","state":"Active","unitName":"qa-unit-cn-hangzhou","unitSelector":{"matchLabels":{"matrixone.cloud/cloud":"aliyun","matrixone.cloud/region":"cn-hangzhou"}},"version":"nightly-e94ba155"},"state":{"initialized":true},"status":{"adminURL":"http://qa-unit-cn-hangzhou-mo-cloud-local-system-tunnel.cos:1010","aliyunStatus":{"privateLink":{"serviceID":"epsrv-bp1yyi8g9ct3unzmf0yf","serviceName":"com.aliyuncs.privatelink.cn-hangzhou.epsrv-bp1yyi8g9ct3unzmf0yf","zones":["cn-hangzhou-i","cn-hangzhou-j","cn-hangzhou-k"]}},"cnGroups":[{"desiredReplicas":1,"name":"default","readyReplicas":1}],"conditions":[{"lastTransitionTime":"2024-02-28T10:36:45Z","message":"the object is synced","reason":"empty","status":"True","type":"Synced"},{"lastTransitionTime":"2024-02-28T10:36:43Z","message":"all components are ready.","reason":"AllComponentsAreReady","status":"True","type":"ComponentReady"},{"lastTransitionTime":"2024-02-28T10:36:45Z","message":"","reason":"EndpointReady","status":"True","type":"EndpointReady"},{"lastTransitionTime":"2024-02-28T10:36:45Z","message":"","reason":"ClusterReady","status":"True","type":"Ready"},{"lastTransitionTime":"2024-02-28T10:36:54Z","message":"","reason":"HealthzCheckSuccess","status":"True","type":"Up"}],"endpoint":{"address":"freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","httpsPort":443,"phase":"Active","port":6001},"externalIdentity":{"aliyun":{"accountId":"1895698303362550"}},"localEndpoint":{"hostname":"local-endpoint.freetier-02","port":6001,"secretRef":{"name":"root","namespace":"freetier-02"}},"phase":"Active","version":"8.0.30-MatrixOne-v1.1.1"}}

DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"SecretList","apiVersion":"v1","metadata":{"resourceVersion":"96148806"},"items":[{"metadata":{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92","namespace":"backup-freetier-02","uid":"53c4f288-f449-49d9-b30f-ac14e64ccf43","resourceVersion":"95374154","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c","namespace":"backup-freetier-02","uid":"c7da59ec-80e1-45b8-b7e6-529b645009d9","resourceVersion":"95374156","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRlcm5hbC5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0","namespace":"backup-freetier-02","uid":"657361cd-e3d1-4f1f-9bd2-eff2d500f566","resourceVersion":"95374155","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS12cGMuY24taGFuZ3pob3UuYWxpeXVuY3MuY29tIjp7IlVzZXJuYW1lIjoiY3JfdGVtcF91c2VyIiwiUGFzc3dvcmQiOiJleUpoZFhSb1ZHOXJaVzVKWkdWdWRHbG1hV1Z5SWpvaVpHSXpNekprTXpVMllUVXhOR016WmprMFpqWTVZVEZrTW1Fek1tSXdZMlFpTENKMGFXMWxJam9pTVRjeE1EVXhOak0zTXpBd01DSXNJblI1Y0dVaU9pSnpkSE1pTENKMWMyVnlTV1FpT2lJeE9EazFOams0TXpBek16WXlOVFV3SW4wOjU5NDRlM2MzMDA4N2U4MDE3OTlkZmY3YzJmNGViMTE0YWU0ZmE0NTgiLCJFbWFpbCI6ImNzQGFsaXl1bmNzLmNvbSIsIlByb3ZpZGVyIjpudWxsfX19"},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb","namespace":"backup-freetier-02","uid":"19dc2e3e-894c-45a0-a03b-c277b945d023","resourceVersion":"95374157","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLmNuLWhhbmd6aG91LmFsaXl1bmNzLmNvbSI6eyJVc2VybmFtZSI6ImNyX3RlbXBfdXNlciIsIlBhc3N3b3JkIjoiZXlKaGRYUm9WRzlyWlc1SlpHVnVkR2xtYVdWeUlqb2laR0l6TXpKa016VTJZVFV4TkdNelpqazBaalk1WVRGa01tRXpNbUl3WTJRaUxDSjBhVzFsSWpvaU1UY3hNRFV4TmpNM016QXdNQ0lzSW5SNWNHVWlPaUp6ZEhNaUxDSjFjMlZ5U1dRaU9pSXhPRGsxTmprNE16QXpNell5TlRVd0luMDo1OTQ0ZTNjMzAwODdlODAxNzk5ZGZmN2MyZjRlYjExNGFlNGZhNDU4IiwiRW1haWwiOiJjc0BhbGl5dW5jcy5jb20iLCJQcm92aWRlciI6bnVsbH19fQ=="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17","namespace":"backup-freetier-02","uid":"c21ac0fc-df8f-4b3e-b61d-3d2bee2cfdbd","resourceVersion":"95374158","creationTimestamp":"2024-02-28T10:33:55Z","managedFields":[{"manager":"aliyun-acr-credential-helper","operation":"Update","apiVersion":"v1","time":"2024-03-14T07:35:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:.dockerconfigjson":{}},"f:type":{}}}]},"data":{".dockerconfigjson":"eyJhdXRocyI6eyJyZWdpc3RyeS1pbnRsLXZwYy5jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20iOnsiVXNlcm5hbWUiOiJjcl90ZW1wX3VzZXIiLCJQYXNzd29yZCI6ImV5SmhkWFJvVkc5clpXNUpaR1Z1ZEdsbWFXVnlJam9pWkdJek16SmtNelUyWVRVeE5HTXpaamswWmpZNVlURmtNbUV6TW1Jd1kyUWlMQ0owYVcxbElqb2lNVGN4TURVeE5qTTNNekF3TUNJc0luUjVjR1VpT2lKemRITWlMQ0oxYzJWeVNXUWlPaUl4T0RrMU5qazRNekF6TXpZeU5UVXdJbjA6NTk0NGUzYzMwMDg3ZTgwMTc5OWRmZjdjMmY0ZWIxMTRhZTRmYTQ1OCIsIkVtYWlsIjoiY3NAYWxpeXVuY3MuY29tIiwiUHJvdmlkZXIiOm51bGx9fX0="},"type":"kubernetes.io/dockerconfigjson"},{"metadata":{"name":"aliyun","namespace":"backup-freetier-02","uid":"32dc52b5-15df-407b-8b5e-03cda0dc5f95","resourceVersion":"81220185","creationTimestamp":"2024-02-28T10:33:56Z","managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:33:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0TDl4VGNqa0pBeE5uQXdWTnB5","AWS_SECRET_ACCESS_KEY":"RjA5d2pNb1lRN3FNNXRMRkE3RVJCa1o3NUJROXg3"},"type":"Opaque"},{"metadata":{"name":"aliyun-moc-backup-test","namespace":"backup-freetier-02","uid":"308307aa-7c99-493c-b4c7-6d0403022576","resourceVersion":"89513622","creationTimestamp":"2024-03-08T07:43:32Z","annotations":{"kubectl.kubernetes.io/last-applied-configuration":"{\"apiVersion\":\"v1\",\"data\":{\"AWS_ACCESS_KEY_ID\":\"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x\",\"AWS_SECRET_ACCESS_KEY\":\"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs\"},\"kind\":\"Secret\",\"metadata\":{\"annotations\":{},\"name\":\"aliyun-moc-backup-test\",\"namespace\":\"backup-freetier-02\"},\"type\":\"Opaque\"}\n"},"managedFields":[{"manager":"kubectl-client-side-apply","operation":"Update","apiVersion":"v1","time":"2024-03-08T07:43:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:AWS_ACCESS_KEY_ID":{},"f:AWS_SECRET_ACCESS_KEY":{}},"f:metadata":{"f:annotations":{".":{},"f:kubectl.kubernetes.io/last-applied-configuration":{}}},"f:type":{}}}]},"data":{"AWS_ACCESS_KEY_ID":"TFRBSTV0THBOelpCRk1kdUE5QllUdE5x","AWS_SECRET_ACCESS_KEY":"UzFNR3NHQWpXOW1BVzBJMUZBb21zd0hDelBvMjFs"},"type":"Opaque"},{"metadata":{"name":"root","namespace":"backup-freetier-02","uid":"a76dfbe7-3523-4aa8-9ea6-9066b767bd7b","resourceVersion":"81222389","creationTimestamp":"2024-02-28T10:36:43Z","labels":{"matrixone.cloud/cluster":"backup-freetier-02"},"managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:36:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:password":{},"f:username":{}},"f:metadata":{"f:labels":{".":{},"f:matrixone.cloud/cluster":{}}},"f:type":{}}}]},"data":{"password":"NE1hbmhQR3NYLWVP","username":"YWRtaW4="},"type":"Opaque"}]}

DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Secret","apiVersion":"v1","metadata":{"name":"root","namespace":"backup-freetier-02","uid":"a76dfbe7-3523-4aa8-9ea6-9066b767bd7b","resourceVersion":"81222389","creationTimestamp":"2024-02-28T10:36:43Z","labels":{"matrixone.cloud/cluster":"backup-freetier-02"},"managedFields":[{"manager":"Go-http-client","operation":"Update","apiVersion":"v1","time":"2024-02-28T10:36:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:data":{".":{},"f:password":{},"f:username":{}},"f:metadata":{"f:labels":{".":{},"f:matrixone.cloud/cluster":{}}},"f:type":{}}}]},"data":{"password":"NE1hbmhQR3NYLWVP","username":"YWRtaW4="},"type":"Opaque"}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:296 Backup cluster backup-freetier-02 is Active.
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148815","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Pending","qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:420 Start to backup data with command of mo-backup as: /mo_br backup --backup_dir s3 --endpoint http://oss-cn-hangzhou-internal.aliyuncs.com --access_key_id $(AWS_ACCESS_KEY_ID) --secret_access_key $(AWS_SECRET_ACCESS_KEY) --bucket moc-backup-test --filepath backup-freetier-02-20240315021618 --region cn-hangzhou --host freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech --port 6001 --user backup_freetier_02#admin#accountadmin --password 4ManhPGsX-eO --log_level debug --parallelism 150
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148818","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Pending","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z","reason":"ContainersNotReady","message":"containers with unready status: [mo-br]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z","reason":"ContainersNotReady","message":"containers with unready status: [mo-br]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"waiting":{"reason":"ContainerCreating"}},"lastState":{},"ready":false,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"","started":false}],"qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:219 wait for the conditions by '<lambda>' with args: ('backup-freetier-02', 'backup-freetier-02'), {}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148991","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"running":{"startedAt":"2024-03-15T02:16:37Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":true}],"qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:219 wait for the conditions by '<lambda>' with args: ('backup-freetier-02', 'backup-freetier-02'), {}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148991","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"running":{"startedAt":"2024-03-15T02:16:37Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":true}],"qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:219 wait for the conditions by '<lambda>' with args: ('backup-freetier-02', 'backup-freetier-02'), {}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148991","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"running":{"startedAt":"2024-03-15T02:16:37Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":true}],"qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:219 wait for the conditions by '<lambda>' with args: ('backup-freetier-02', 'backup-freetier-02'), {}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148991","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"running":{"startedAt":"2024-03-15T02:16:37Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":true}],"qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:219 wait for the conditions by '<lambda>' with args: ('backup-freetier-02', 'backup-freetier-02'), {}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96148991","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:37Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"running":{"startedAt":"2024-03-15T02:16:37Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":true}],"qosClass":"Guaranteed"}}

DEBUG    src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:219 wait for the conditions by '<lambda>' with args: ('backup-freetier-02', 'backup-freetier-02'), {}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96153334","creationTimestamp":"2024-03-15T02:16:24Z","annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:21:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Succeeded","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z","reason":"PodCompleted"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:21:41Z","reason":"PodCompleted"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:21:41Z","reason":"PodCompleted"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-03-15T02:16:37Z","finishedAt":"2024-03-15T02:21:40Z","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76"}},"lastState":{},"ready":false,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":false}],"qosClass":"Guaranteed"}}
DEBUG    kubernetes.client.rest:rest.py:235 response body: {"kind":"Pod","apiVersion":"v1","metadata":{"name":"backup-freetier-02","namespace":"backup-freetier-02","uid":"267dc83a-214e-4a67-96d7-dc0f3a936a72","resourceVersion":"96153858","creationTimestamp":"2024-03-15T02:16:24Z","deletionTimestamp":"2024-03-15T02:22:27Z","deletionGracePeriodSeconds":0,"annotations":{"node-local-dns-webhook.k8s.io/status":"injected"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:16:24Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:containers":{"k:{\"name\":\"mo-br\"}":{".":{},"f:args":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AWS_ACCESS_KEY_ID\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}},"k:{\"name\":\"AWS_SECRET_ACCESS_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{}}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:imagePullSecrets":{".":{},"k:{\"name\":\"acr-credential-0cd66774c2e1635329078c8ad94a7d92\"}":{},"k:{\"name\":\"acr-credential-518dfd1883737c2a6bde99ed6fee583c\"}":{},"k:{\"name\":\"acr-credential-90a511cb8249950d96ce0336cae093f0\"}":{},"k:{\"name\":\"acr-credential-91029a2c549212d737cbd7e40e1a6ebb\"}":{},"k:{\"name\":\"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17\"}":{}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-03-15T02:21:43Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"172.20.85.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"kube-api-access-jf7ct","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"containers":[{"name":"mo-br","image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","command":["/mo_br","backup"],"args":["--backup_dir","s3","--endpoint","http://oss-cn-hangzhou-internal.aliyuncs.com","--access_key_id","$(AWS_ACCESS_KEY_ID)","--secret_access_key","$(AWS_SECRET_ACCESS_KEY)","--bucket","moc-backup-test","--filepath","backup-freetier-02-20240315021618","--region","cn-hangzhou","--host","freetier-02.cn-hangzhou.cluster.cn-qa.matrixone.tech","--port","6001","--user","backup_freetier_02#admin#accountadmin","--password","4ManhPGsX-eO","--log_level","debug","--parallelism","150"],"env":[{"name":"AWS_ACCESS_KEY_ID","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_ACCESS_KEY_ID"}}},{"name":"AWS_SECRET_ACCESS_KEY","valueFrom":{"secretKeyRef":{"name":"aliyun-moc-backup-test","key":"AWS_SECRET_ACCESS_KEY"}}}],"resources":{"limits":{"cpu":"7","memory":"13Gi"},"requests":{"cpu":"7","memory":"13Gi"}},"volumeMounts":[{"name":"kube-api-access-jf7ct","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Never","terminationGracePeriodSeconds":30,"dnsPolicy":"None","serviceAccountName":"default","serviceAccount":"default","nodeName":"cn-hangzhou.10.3.201.104","securityContext":{},"imagePullSecrets":[{"name":"acr-credential-0cd66774c2e1635329078c8ad94a7d92"},{"name":"acr-credential-90a511cb8249950d96ce0336cae093f0"},{"name":"acr-credential-518dfd1883737c2a6bde99ed6fee583c"},{"name":"acr-credential-91029a2c549212d737cbd7e40e1a6ebb"},{"name":"acr-credential-bbec27b1dbdc90bb0f27dbd225b24e17"}],"schedulerName":"default-scheduler","tolerations":[{"operator":"Exists","effect":"NoSchedule"},{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"dnsConfig":{"nameservers":["169.254.20.10","172.21.0.10"],"searches":["backup-freetier-02.svc.cluster.local","svc.cluster.local","cluster.local"],"options":[{"name":"ndots","value":"5"},{"name":"timeout","value":"1"},{"name":"attempts","value":"2"}]},"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Succeeded","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z","reason":"PodCompleted"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:21:41Z","reason":"PodCompleted"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:21:41Z","reason":"PodCompleted"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-03-15T02:16:24Z"}],"hostIP":"10.3.201.104","podIP":"172.20.85.5","podIPs":[{"ip":"172.20.85.5"}],"startTime":"2024-03-15T02:16:24Z","containerStatuses":[{"name":"mo-br","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-03-15T02:16:37Z","finishedAt":"2024-03-15T02:21:40Z","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76"}},"lastState":{},"ready":false,"restartCount":0,"image":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup:4fa21f1","imageID":"registry.cn-hangzhou.aliyuncs.com/mocloud/mo-backup@sha256:96b3680fe7739eb276013fba516d95a7f11f8cde92170a09d835b9f73d6f7e7b","containerID":"containerd://1f082d6e8e8d9bd564e2d96070ec986933516f10af0bff680eb37583a6ea1d76","started":false}],"qosClass":"Guaranteed"}}

INFO     src.tests.upgrade.test_mo_upgrade:test_mo_upgrade.py:32 teardown_module