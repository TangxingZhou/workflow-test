{"uid":"c22132d40d97b5d","name":"Upgrade Cluster","fullName":"src.tests.upgrade.test_mo_upgrade.UpgradeMOTestSuite#test_upgrade_restored_cluster","historyId":"931059c3ff76815f45987d0d27bb36bc","time":{"start":1710916635106,"stop":1710916635106,"duration":0},"description":"This test attempts to upgrade cluster restored.","descriptionHtml":"<p>This test attempts to upgrade cluster restored.</p>\n","status":"skipped","statusMessage":"Skipped: test_upgrade_restored_cluster depends on UpgradeMOTestSuite::test_restore_cluster","statusTrace":"('/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/pytest_dependency.py', 101, 'Skipped: test_upgrade_restored_cluster depends on UpgradeMOTestSuite::test_restore_cluster')","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"k8s_controller_client","time":{"start":1710916628860,"stop":1710916628869,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"k8s_unit_client","time":{"start":1710916628869,"stop":1710916628878,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup_module","time":{"start":1710916628878,"stop":1710916628878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_xunit_setup_module_fixture_src.tests.upgrade.test_mo_upgrade","time":{"start":1710916628878,"stop":1710916628878,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"envs","time":{"start":1710916628879,"stop":1710916628879,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"configs","time":{"start":1710916628879,"stop":1710916628883,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_xunit_setup_class_fixture_UpgradeMOTestSuite","time":{"start":1710916628931,"stop":1710916628931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"setup_class","time":{"start":1710916628931,"stop":1710916630266,"duration":1335},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"upgrade_version_is_specified","time":{"start":1710916631202,"stop":1710916631202,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"testStage":{"description":"This test attempts to upgrade cluster restored.","status":"skipped","statusMessage":"Skipped: test_upgrade_restored_cluster depends on UpgradeMOTestSuite::test_restore_cluster","statusTrace":"('/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/site-packages/pytest_dependency.py', 101, 'Skipped: test_upgrade_restored_cluster depends on UpgradeMOTestSuite::test_restore_cluster')","steps":[],"attachments":[{"uid":"b15569e7925129c3","name":"log","source":"b15569e7925129c3.txt","type":"text/plain","size":386}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true},"afterStages":[{"name":"_xunit_setup_class_fixture_UpgradeMOTestSuite::0","time":{"start":1710916635110,"stop":1710916635110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false},{"name":"_xunit_setup_module_fixture_src.tests.upgrade.test_mo_upgrade::0","time":{"start":1710916635111,"stop":1710916635111,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false}],"labels":[{"name":"severity","value":"critical"},{"name":"tag","value":"Upgrade"},{"name":"epic","value":"MOC Test Automation"},{"name":"suite","value":"Restore MO Cluster and Upgrade"},{"name":"owner","value":"TangxingZhou"},{"name":"feature","value":"Backup/Restore and Upgrade MO Cluster"},{"name":"story","value":"Backup/Restore and Upgrade MO Cluster"},{"name":"tag","value":"MO"},{"name":"tag","value":"dependency(depends=['UpgradeMOTestSuite::test_restore_cluster'])"},{"name":"tag","value":"p0"},{"name":"parentSuite","value":"src.tests.upgrade"},{"name":"subSuite","value":"UpgradeMOTestSuite"},{"name":"host","value":"fv-az732-311"},{"name":"thread","value":"2197-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"src.tests.upgrade.test_mo_upgrade"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"issue-2542","url":"https://github.com/matrixorigin/MO-Cloud/issues/2542","type":"issue"}],"hidden":false,"retry":false,"extra":{"severity":"critical","owner":"TangxingZhou","retries":[],"categories":[],"history":{"statistic":{"failed":3,"broken":0,"skipped":3,"passed":2,"unknown":0,"total":8},"items":[{"uid":"4333b04c28a66e41","reportUrl":"https://TangxingZhou.github.io/workflow-test/47//#testresult/4333b04c28a66e41","status":"skipped","statusDetails":"Skipped: test_upgrade_restored_cluster depends on UpgradeMOTestSuite::test_restore_cluster","time":{"start":1710824763378,"stop":1710824763378,"duration":0}},{"uid":"53988ec0b073442c","reportUrl":"https://TangxingZhou.github.io/workflow-test/46//#testresult/53988ec0b073442c","status":"failed","statusDetails":"AssertionError: Container named 'main' of pod 'default-cn-9tkwt': expected image is registry.cn-hangzhou.aliyuncs.com/mocloud/matrixone:v1.1.2-pre-afb4934ae-2024-03-17 rather than docker.io/matrixorigin/matrixone:1.1.1-fix.\nassert 'docker.io/ma...one:1.1.1-fix' == 'registry.cn-...ae-2024-03-17'\n  - registry.cn-hangzhou.aliyuncs.com/mocloud/matrixone:v1.1.2-pre-afb4934ae-2024-03-17\n  + docker.io/matrixorigin/matrixone:1.1.1-fix","time":{"start":1710822117779,"stop":1710822119492,"duration":1713}},{"uid":"8cc691d8be1f3c25","reportUrl":"https://TangxingZhou.github.io/workflow-test/46//#testresult/8cc691d8be1f3c25","status":"failed","statusDetails":"AssertionError: Container named 'main' of pod 'default-cn-8vk4j': expected image is registry.cn-hangzhou.aliyuncs.com/mocloud/matrixone:v1.1.2-pre-afb4934ae-2024-03-17 rather than docker.io/matrixorigin/matrixone:1.1.1-fix.\nassert 'docker.io/ma...one:1.1.1-fix' == 'registry.cn-...ae-2024-03-17'\n  - registry.cn-hangzhou.aliyuncs.com/mocloud/matrixone:v1.1.2-pre-afb4934ae-2024-03-17\n  + docker.io/matrixorigin/matrixone:1.1.1-fix","time":{"start":1710819546695,"stop":1710819548735,"duration":2040}},{"uid":"cf61c72b4896e55e","reportUrl":"https://TangxingZhou.github.io/workflow-test/45//#testresult/cf61c72b4896e55e","status":"failed","statusDetails":"AssertionError: Container named 'main' of pod 'default-log-0': expected image is registry.cn-hangzhou.aliyuncs.com/mocloud/matrixone:v1.1.2-pre-afb4934ae-2024-03-17 rather than docker.io/volgariver6/matrixone:1.1.1-fix.\nassert 'docker.io/vo...one:1.1.1-fix' == 'registry.cn-...ae-2024-03-17'\n  - registry.cn-hangzhou.aliyuncs.com/mocloud/matrixone:v1.1.2-pre-afb4934ae-2024-03-17\n  + docker.io/volgariver6/matrixone:1.1.1-fix","time":{"start":1710782649533,"stop":1710782650861,"duration":1328}},{"uid":"f8acede926fe92aa","reportUrl":"https://TangxingZhou.github.io/workflow-test/45//#testresult/f8acede926fe92aa","status":"skipped","statusDetails":"Skipped: test_upgrade_restored_cluster depends on UpgradeMOTestSuite::test_restore_cluster","time":{"start":1710768737902,"stop":1710768737902,"duration":0}},{"uid":"636fc6880a9ce149","reportUrl":"https://TangxingZhou.github.io/workflow-test/44//#testresult/636fc6880a9ce149","status":"passed","time":{"start":1710481235787,"stop":1710481236707,"duration":920}},{"uid":"1a547ac6f4de8e4f","reportUrl":"https://TangxingZhou.github.io/workflow-test/42//#testresult/1a547ac6f4de8e4f","status":"passed","time":{"start":1710258660567,"stop":1710258661573,"duration":1006}}]},"tags":["dependency(depends=['UpgradeMOTestSuite::test_restore_cluster'])","p0","MO","Upgrade"]},"source":"c22132d40d97b5d.json","parameterValues":[]}